<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickShop Scan - Free POS</title>
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f0f2f5; }
        .container { max-width: 500px; margin: auto; background: white; padding: 20px; min-height: 100vh; }
        h1 { color: #1a73e8; text-align: center; font-size: 24px; }
        #reader { width: 100%; border: 2px solid #1a73e8; border-radius: 8px; overflow: hidden; }
        .bill-area { margin-top: 20px; border-top: 2px solid #eee; padding-top: 10px; }
        .item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #eee; }
        .total { font-size: 20px; font-weight: bold; color: #d93025; text-align: right; margin-top: 15px; }
        button { width: 100%; padding: 12px; background: #1a73e8; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin-top: 10px; }
        .inventory-hint { font-size: 12px; color: #666; text-align: center; margin-bottom: 10px; }
    </style>
</head>
<body>

<div class="container">
    <h1>QuickShop Scan üõí</h1>
    <p class="inventory-hint">Place barcode in front of camera</p>
    
    <div id="reader"></div>

    <div class="bill-area">
        <h3>Current Bill:</h3>
        <div id="bill-items">
            </div>
        <div class="total">Total: ‚Çπ<span id="grand-total">0</span></div>
        <button onclick="clearBill()">New Customer / Reset</button>
    </div>
</div>

<script>
    // Mock Inventory (‡§Ü‡§™ ‡§Ø‡§π‡§æ‡§Å ‡§î‡§∞ ‡§≠‡•Ä ‡§™‡•ç‡§∞‡•ã‡§°‡§ï‡•ç‡§ü‡•ç‡§∏ ‡§ú‡•ã‡•ú ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç)
    const inventory = {
        "8906088213849": { name: "Parle-G Small", price: 5 },
        "890203000002": { name: "Amul Butter 100g", price: 55 },
        "8901719113101": { name: "Maggi Noodles", price: 14 },
        "123456": { name: "Sample Item", price: 100 }
    };

    let totalAmount = 0;

    function onScanSuccess(decodedText, decodedResult) {
        // ‡§Ö‡§ó‡§∞ ‡§¨‡§æ‡§∞‡§ï‡•ã‡§° ‡§á‡§®‡•ç‡§µ‡•á‡§Ç‡§ü‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§π‡•à
        if (inventory[decodedText]) {
            const item = inventory[decodedText];
            addItemToBill(item.name, item.price);
            
            // ‡§¨‡•Ä‡§™ ‡§∏‡§æ‡§â‡§Ç‡§° ‡§Ø‡§æ ‡§µ‡§æ‡§á‡§¨‡•ç‡§∞‡•á‡§∂‡§® (‡§ë‡§™‡•ç‡§∂‡§®‡§≤)
            if (navigator.vibrate) navigator.vibrate(100);
        } else {
            alert("Unknown Product: " + decodedText);
        }
    }

    function addItemToBill(name, price) {
        const billDiv = document.getElementById('bill-items');
        const itemRow = document.createElement('div');
        itemRow.className = 'item';
        itemRow.innerHTML = `<span>${name}</span> <span>‚Çπ${price}</span>`;
        billDiv.appendChild(itemRow);

        totalAmount += price;
        document.getElementById('grand-total').innerText = totalAmount;
    }

    function clearBill() {
        document.getElementById('bill-items').innerHTML = '';
        totalAmount = 0;
        document.getElementById('grand-total').innerText = '0';
    }

    // Scanner Setup
    let html5QrcodeScanner = new Html5QrcodeScanner("reader", { fps: 10, qrbox: 250 });
    html5QrcodeScanner.render(onScanSuccess);
</script>

</body>

</html>
